<template><div><h1 id="ğŸï¸-åŠ¨ç”»ä¸“åŒº" tabindex="-1"><a class="header-anchor" href="#ğŸï¸-åŠ¨ç”»ä¸“åŒº"><span>ğŸï¸ åŠ¨ç”»ä¸“åŒº</span></a></h1>
<div class="animation-zone">
  <!-- åŠ è½½çŠ¶æ€ -->
  <div id="loadingState" class="loading-state">
    <div class="loading-spinner"></div>
    <p>æ­£åœ¨åŠ è½½åŠ¨ç”»æ•°æ®...</p>
  </div>
  <!-- é”™è¯¯çŠ¶æ€ -->
  <div id="errorState" class="error-state" style="display: none;">
    <p>âŒ åŠ è½½å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥æˆ–ç¨åé‡è¯•</p>
    <button onclick="loadAnimes()" class="retry-button">é‡æ–°åŠ è½½</button>
  </div>
  <!-- ç­›é€‰å™¨ -->
  <div class="filters" id="filtersContainer" style="display: none;">
    <div class="filter-group">
      <label>ç±»å‹ç­›é€‰ï¼š</label>
      <select id="genreFilter">
        <option value="">å…¨éƒ¨ç±»å‹</option>
        <option value="å¥‡å¹»">å¥‡å¹»</option>
        <option value="å†’é™©">å†’é™©</option>
        <option value="å‰§æƒ…">å‰§æƒ…</option>
        <option value="å–œå‰§">å–œå‰§</option>
        <option value="åŠ¨ä½œ">åŠ¨ä½œ</option>
        <option value="æ²»æ„ˆ">æ²»æ„ˆ</option>
        <option value="ç§‘å¹»">ç§‘å¹»</option>
        <option value="æ‹çˆ±">æ‹çˆ±</option>
        <option value="æ‚¬ç–‘">æ‚¬ç–‘</option>
      </select>
    </div>
<pre><code>&lt;div class=&quot;filter-group&quot;&gt;
  &lt;label&gt;çŠ¶æ€ç­›é€‰ï¼š&lt;/label&gt;
  &lt;select id=&quot;statusFilter&quot;&gt;
    &lt;option value=&quot;&quot;&gt;å…¨éƒ¨çŠ¶æ€&lt;/option&gt;
    &lt;option value=&quot;æ­£åœ¨è§‚çœ‹&quot;&gt;æ­£åœ¨è§‚çœ‹&lt;/option&gt;
    &lt;option value=&quot;å·²å®Œæˆ&quot;&gt;å·²å®Œæˆ&lt;/option&gt;
    &lt;option value=&quot;è®¡åˆ’è§‚çœ‹&quot;&gt;è®¡åˆ’è§‚çœ‹&lt;/option&gt;
    &lt;option value=&quot;æš‚åœè§‚çœ‹&quot;&gt;æš‚åœè§‚çœ‹&lt;/option&gt;
  &lt;/select&gt;
&lt;/div&gt;

&lt;div class=&quot;filter-group&quot;&gt;
  &lt;label&gt;è¯„åˆ†ç­›é€‰ï¼š&lt;/label&gt;
  &lt;select id=&quot;ratingFilter&quot;&gt;
    &lt;option value=&quot;&quot;&gt;å…¨éƒ¨è¯„åˆ†&lt;/option&gt;
    &lt;option value=&quot;9&quot;&gt;9åˆ†ä»¥ä¸Š&lt;/option&gt;
    &lt;option value=&quot;8&quot;&gt;8åˆ†ä»¥ä¸Š&lt;/option&gt;
    &lt;option value=&quot;7&quot;&gt;7åˆ†ä»¥ä¸Š&lt;/option&gt;
  &lt;/select&gt;
&lt;/div&gt;

&lt;div class=&quot;filter-group&quot;&gt;
  &lt;label&gt;æœç´¢ï¼š&lt;/label&gt;
  &lt;input type=&quot;text&quot; id=&quot;searchInput&quot; placeholder=&quot;è¾“å…¥åŠ¨ç”»åç§°...&quot;&gt;
&lt;/div&gt;
</code></pre>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡å®¹å™¨ -->
  <div class="anime-grid" id="animeGrid" style="display: none;">
    <!-- åŠ¨ç”»å¡ç‰‡å°†é€šè¿‡JavaScriptä»FirebaseåŠ¨æ€ç”Ÿæˆ -->
  </div>
  <!-- ç©ºçŠ¶æ€ -->
  <div id="emptyState" class="empty-state" style="display: none;">
    <p>ğŸ“º æš‚æ— ç¬¦åˆæ¡ä»¶çš„åŠ¨ç”»</p>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡ 1 -->
  <div class="anime-card" data-genre="fantasy,adventure" data-status="completed" data-rating="9.5">
    <div class="anime-poster">
      <img src="https://via.placeholder.com/200x280/FF6B6B/FFFFFF?text=è‘¬é€çš„èŠ™è‰è²" alt="è‘¬é€çš„èŠ™è‰è²">
      <div class="anime-overlay">
        <div class="anime-rating">9.5</div>
        <div class="anime-status completed">å·²å®Œæˆ</div>
      </div>
    </div>
    <div class="anime-info">
      <h3 class="anime-title">è‘¬é€çš„èŠ™è‰è²</h3>
      <p class="anime-genres">å¥‡å¹» Â· å†’é™© Â· æ²»æ„ˆ</p>
      <p class="anime-year">2023å¹´</p>
      <p class="anime-episodes">28é›†</p>
      <div class="anime-description">
        ç²¾çµæ³•å¸ˆèŠ™è‰è²åœ¨å‹‡è€…è¾›ç¾å°”æ­»åï¼Œè¸ä¸Šäº†ç†è§£äººç±»æƒ…æ„Ÿçš„æ—…ç¨‹...
      </div>
      <a href="/Anime/animation/frieren.html" class="anime-link">æŸ¥çœ‹è¯¦æƒ… â†’</a>
    </div>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡ 2 -->
  <div class="anime-card" data-genre="mystery,drama" data-status="completed" data-rating="9.2">
    <div class="anime-poster">
      <img src="https://via.placeholder.com/200x280/4ECDC4/FFFFFF?text=è¯å±‹å°‘å¥³çš„å‘¢å–ƒ" alt="è¯å±‹å°‘å¥³çš„å‘¢å–ƒ">
      <div class="anime-overlay">
        <div class="anime-rating">9.2</div>
        <div class="anime-status completed">å·²å®Œæˆ</div>
      </div>
    </div>
    <div class="anime-info">
      <h3 class="anime-title">è¯å±‹å°‘å¥³çš„å‘¢å–ƒ</h3>
      <p class="anime-genres">æ¨ç† Â· å¤é£ Â· å®«å»·</p>
      <p class="anime-year">2023å¹´</p>
      <p class="anime-episodes">24é›†</p>
      <div class="anime-description">
        çŒ«çŒ«åœ¨åå®«ä¸­è¿ç”¨è¯å­¦çŸ¥è¯†è§£å†³å„ç§è°œå›¢çš„æ•…äº‹...
      </div>
      <a href="/Anime/animation/kusuriya.html" class="anime-link">æŸ¥çœ‹è¯¦æƒ… â†’</a>
    </div>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡ 3 -->
  <div class="anime-card" data-genre="action,fantasy" data-status="completed" data-rating="9.0">
    <div class="anime-poster">
      <img src="https://via.placeholder.com/200x280/45B7D1/FFFFFF?text=å’’æœ¯å›æˆ˜" alt="å’’æœ¯å›æˆ˜">
      <div class="anime-overlay">
        <div class="anime-rating">9.0</div>
        <div class="anime-status completed">å·²å®Œæˆ</div>
      </div>
    </div>
    <div class="anime-info">
      <h3 class="anime-title">å’’æœ¯å›æˆ˜ ç¬¬äºŒå­£</h3>
      <p class="anime-genres">åŠ¨ä½œ Â· å¥‡å¹» Â· çƒ­è¡€</p>
      <p class="anime-year">2023å¹´</p>
      <p class="anime-episodes">23é›†</p>
      <div class="anime-description">
        è™æ–æ‚ ä»ä¸å’’æœ¯å¸ˆä»¬å¯¹æŠ—å’’çµçš„æ¿€çƒˆæˆ˜æ–—...
      </div>
      <a href="/Anime/animation/jujutsu-kaisen.html" class="anime-link">æŸ¥çœ‹è¯¦æƒ… â†’</a>
    </div>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡ 4 -->
  <div class="anime-card" data-genre="comedy,action" data-status="completed" data-rating="8.8">
    <div class="anime-poster">
      <img src="https://via.placeholder.com/200x280/96CEB4/FFFFFF?text=é—´è°è¿‡å®¶å®¶" alt="é—´è°è¿‡å®¶å®¶">
      <div class="anime-overlay">
        <div class="anime-rating">8.8</div>
        <div class="anime-status completed">å·²å®Œæˆ</div>
      </div>
    </div>
    <div class="anime-info">
      <h3 class="anime-title">é—´è°è¿‡å®¶å®¶</h3>
      <p class="anime-genres">å–œå‰§ Â· åŠ¨ä½œ Â· å®¶åº­</p>
      <p class="anime-year">2022å¹´</p>
      <p class="anime-episodes">25é›†</p>
      <div class="anime-description">
        é—´è°ã€æ€æ‰‹å’Œè¶…èƒ½åŠ›è€…ç»„æˆçš„ä¼ªè£…å®¶åº­çš„æ¸©é¦¨æ—¥å¸¸...
      </div>
      <a href="/Anime/animation/spy-family.html" class="anime-link">æŸ¥çœ‹è¯¦æƒ… â†’</a>
    </div>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡ 5 -->
  <div class="anime-card" data-genre="fantasy,adventure" data-status="watching" data-rating="8.5">
    <div class="anime-poster">
      <img src="https://via.placeholder.com/200x280/FFEAA7/333333?text=è½¬ç”Ÿå²è±å§†" alt="è½¬ç”Ÿå²è±å§†">
      <div class="anime-overlay">
        <div class="anime-rating">8.5</div>
        <div class="anime-status watching">è§‚çœ‹ä¸­</div>
      </div>
    </div>
    <div class="anime-info">
      <h3 class="anime-title">å…³äºæˆ‘è½¬ç”Ÿå˜æˆå²è±å§†è¿™æ¡£äº‹ ç¬¬ä¸‰å­£</h3>
      <p class="anime-genres">å¥‡å¹» Â· å†’é™© Â· å¼‚ä¸–ç•Œ</p>
      <p class="anime-year">2024å¹´</p>
      <p class="anime-episodes">8/24é›†</p>
      <div class="anime-description">
        åˆ©å§†é²åœ¨å¼‚ä¸–ç•Œå»ºç«‹é­”ç‰©å›½å®¶çš„å†’é™©æ•…äº‹...
      </div>
      <a href="/Anime/animation/slime.html" class="anime-link">æŸ¥çœ‹è¯¦æƒ… â†’</a>
    </div>
  </div>
  <!-- åŠ¨ç”»å¡ç‰‡ 6 -->
  <div class="anime-card" data-genre="action,drama" data-status="planned" data-rating="0">
    <div class="anime-poster">
      <img src="https://via.placeholder.com/200x280/DDA0DD/FFFFFF?text=é¬¼ç­ä¹‹åˆƒ" alt="é¬¼ç­ä¹‹åˆƒ">
      <div class="anime-overlay">
        <div class="anime-rating">-</div>
        <div class="anime-status planned">è®¡åˆ’è§‚çœ‹</div>
      </div>
    </div>
    <div class="anime-info">
      <h3 class="anime-title">é¬¼ç­ä¹‹åˆƒ é”»åˆ€æ‘ç¯‡</h3>
      <p class="anime-genres">åŠ¨ä½œ Â· å‰§æƒ… Â· çƒ­è¡€</p>
      <p class="anime-year">2023å¹´</p>
      <p class="anime-episodes">11é›†</p>
      <div class="anime-description">
        ç‚­æ²»éƒå‰å¾€é”»åˆ€æ‘ä¿®å¤æ—¥è½®åˆ€çš„æ•…äº‹...
      </div>
      <a href="/Anime/animation/demon-slayer.html" class="anime-link">æŸ¥çœ‹è¯¦æƒ… â†’</a>
    </div>
  </div>
</div>
</div></template>

<script type="module">
// é™æ€æ•°æ®ï¼Œç”¨äºæ„å»ºæ—¶çš„å…¼å®¹æ€§
const staticAnimeData = [
  {
    id: 'frieren',
    title: 'è‘¬é€çš„èŠ™è‰è²',
    titleEn: 'Sousou no Frieren',
    year: 2023,
    episodes: 28,
    currentEpisode: 28,
    rating: 9.8,
    watchStatus: 'å·²å®Œæˆ',
    genres: ['å¥‡å¹»', 'å†’é™©', 'æ²»æ„ˆ'],
    coverImage: 'https://via.placeholder.com/200x280/FF6B6B/FFFFFF?text=èŠ™è‰è²',
    summary: 'ç²¾çµé­”æ³•ä½¿èŠ™è‰è²åœ¨å‹‡è€…æ­»åå¼€å§‹ç†è§£äººç±»çš„æ—…ç¨‹ã€‚'
  },
  {
    id: 'kusuriya',
    title: 'è¯å±‹å°‘å¥³çš„å‘¢å–ƒ',
    titleEn: 'Kusuriya no Hitorigoto',
    year: 2023,
    episodes: 24,
    currentEpisode: 24,
    rating: 9.2,
    watchStatus: 'å·²å®Œæˆ',
    genres: ['æ¨ç†', 'å¤é£', 'å®«å»·'],
    coverImage: 'https://via.placeholder.com/200x280/4ECDC4/FFFFFF?text=è¯å±‹å°‘å¥³',
    summary: 'åœ¨åå®«ä¸­å·¥ä½œçš„è¯å¸ˆå°‘å¥³çŒ«çŒ«è§£å†³å„ç§è°œå›¢çš„æ•…äº‹ã€‚'
  }
];

// å…¨å±€å˜é‡
let allAnimes = staticAnimeData;
let filteredAnimes = staticAnimeData;

// é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
if (typeof document !== 'undefined') {
  document.addEventListener('DOMContentLoaded', function() {
    loadAnimes();
    setupEventListeners();
  });
}

/**
 * åŠ è½½åŠ¨ç”»æ•°æ®
 */
function loadAnimes() {
  try {
    showLoadingState();
    
    // ä½¿ç”¨é™æ€æ•°æ®
    filteredAnimes = [...allAnimes];
    
    if (allAnimes.length === 0) {
      showEmptyState();
    } else {
      showContent();
      renderAnimes(filteredAnimes);
    }
  } catch (error) {
    console.error('åŠ è½½åŠ¨ç”»æ•°æ®å¤±è´¥:', error);
    showErrorState();
  }
}

/**
 * æ˜¾ç¤ºåŠ è½½çŠ¶æ€
 */
function showLoadingState() {
  document.getElementById('loadingState').style.display = 'block';
  document.getElementById('errorState').style.display = 'none';
  document.getElementById('filtersContainer').style.display = 'none';
  document.getElementById('animeGrid').style.display = 'none';
  document.getElementById('emptyState').style.display = 'none';
}

/**
 * æ˜¾ç¤ºé”™è¯¯çŠ¶æ€
 */
function showErrorState() {
  document.getElementById('loadingState').style.display = 'none';
  document.getElementById('errorState').style.display = 'block';
  document.getElementById('filtersContainer').style.display = 'none';
  document.getElementById('animeGrid').style.display = 'none';
  document.getElementById('emptyState').style.display = 'none';
}

/**
 * æ˜¾ç¤ºå†…å®¹
 */
function showContent() {
  document.getElementById('loadingState').style.display = 'none';
  document.getElementById('errorState').style.display = 'none';
  document.getElementById('filtersContainer').style.display = 'block';
  document.getElementById('animeGrid').style.display = 'block';
  document.getElementById('emptyState').style.display = 'none';
}

/**
 * æ˜¾ç¤ºç©ºçŠ¶æ€
 */
function showEmptyState() {
  document.getElementById('loadingState').style.display = 'none';
  document.getElementById('errorState').style.display = 'none';
  document.getElementById('filtersContainer').style.display = 'block';
  document.getElementById('animeGrid').style.display = 'none';
  document.getElementById('emptyState').style.display = 'block';
}

/**
 * æ¸²æŸ“åŠ¨ç”»å¡ç‰‡
 */
function renderAnimes(animes) {
  const grid = document.getElementById('animeGrid');
  
  if (animes.length === 0) {
    showEmptyState();
    return;
  }
  
  grid.innerHTML = animes.map(anime => createAnimeCard(anime)).join('');
  showContent();
}

/**
 * åˆ›å»ºåŠ¨ç”»å¡ç‰‡HTML
 */
function createAnimeCard(anime) {
  const statusClass = getStatusClass(anime.watchStatus || anime.status);
  const genres = anime.genres ? anime.genres.slice(0, 3).join(' Â· ') : '';
  
  return `
    <div class="anime-card" onclick="goToDetail('${anime.id}')">
      <div class="anime-cover">
        <img src="${anime.cover || 'https://via.placeholder.com/300x400/FF6B6B/FFFFFF?text=' + encodeURIComponent(anime.title)}" 
             alt="${anime.title}" 
             onerror="this.src='https://via.placeholder.com/300x400/FF6B6B/FFFFFF?text=' + encodeURIComponent('${anime.title}')">
        <div class="anime-overlay">
          <div class="anime-rating">â­ ${anime.rating || 'N/A'}</div>
          <div class="anime-status ${statusClass}">${anime.watchStatus || anime.status || 'æœªçŸ¥'}</div>
        </div>
      </div>
      <div class="anime-info">
        <h3 class="anime-title">${anime.title}</h3>
        <p class="anime-subtitle">${anime.titleEn || anime.titleJp || ''}</p>
        <div class="anime-meta">
          <span class="anime-year">${anime.year || ''}</span>
          <span class="anime-episodes">${anime.episodes ? anime.episodes + 'é›†' : ''}</span>
        </div>
        <div class="anime-genres">${genres}</div>
        <div class="anime-progress">
          ${anime.currentEpisode && anime.episodes ? 
            `<div class="progress-bar">
              <div class="progress-fill" style="width: ${(anime.currentEpisode / anime.episodes * 100)}%"></div>
            </div>
            <span class="progress-text">${anime.currentEpisode}/${anime.episodes}</span>` : 
            ''}
        </div>
      </div>
    </div>
  `;
}

/**
 * è·å–çŠ¶æ€æ ·å¼ç±»
 */
function getStatusClass(status) {
  const statusMap = {
    'æ­£åœ¨è§‚çœ‹': 'watching',
    'å·²å®Œæˆ': 'completed',
    'è®¡åˆ’è§‚çœ‹': 'planned',
    'æš‚åœè§‚çœ‹': 'paused',
    'å·²å¼ƒç•ª': 'dropped'
  };
  return statusMap[status] || 'unknown';
}

/**
 * è·³è½¬åˆ°è¯¦æƒ…é¡µ
 */
function goToDetail(animeId) {
  if (typeof window !== 'undefined') {
    window.location.href = `/Anime/animation/${animeId}.html`;
  }
}

/**
 * è®¾ç½®äº‹ä»¶ç›‘å¬å™¨
 */
function setupEventListeners() {
  // ç­›é€‰å™¨äº‹ä»¶
  document.getElementById('genreFilter').addEventListener('change', applyFilters);
  document.getElementById('statusFilter').addEventListener('change', applyFilters);
  document.getElementById('ratingFilter').addEventListener('change', applyFilters);
  
  // æœç´¢äº‹ä»¶
  const searchInput = document.getElementById('searchInput');
  searchInput.addEventListener('input', debounce(handleSearch, 300));
}

/**
 * åº”ç”¨ç­›é€‰å™¨
 */
function applyFilters() {
  const genreFilter = document.getElementById('genreFilter').value;
  const statusFilter = document.getElementById('statusFilter').value;
  const ratingFilter = document.getElementById('ratingFilter').value;
  
  filteredAnimes = allAnimes.filter(anime => {
    // ç±»å‹ç­›é€‰
    if (genreFilter && (!anime.genres || !anime.genres.includes(genreFilter))) {
      return false;
    }
    
    // çŠ¶æ€ç­›é€‰
    if (statusFilter && anime.watchStatus !== statusFilter && anime.status !== statusFilter) {
      return false;
    }
    
    // è¯„åˆ†ç­›é€‰
    if (ratingFilter && (!anime.rating || anime.rating < parseFloat(ratingFilter))) {
      return false;
    }
    
    return true;
  });
  
  renderAnimes(filteredAnimes);
}

/**
 * å¤„ç†æœç´¢
 */
async function handleSearch() {
  const keyword = document.getElementById('searchInput').value.trim();
  
  if (keyword === '') {
    filteredAnimes = [...allAnimes];
    applyFilters();
    return;
  }
  
  try {
    // ä½¿ç”¨Firebaseæœç´¢åŠŸèƒ½
    const searchResults = await animeService.searchAnimes(keyword);
    filteredAnimes = searchResults;
    renderAnimes(filteredAnimes);
  } catch (error) {
    console.error('æœç´¢å¤±è´¥:', error);
    // é™çº§åˆ°æœ¬åœ°æœç´¢
    filteredAnimes = allAnimes.filter(anime => 
      anime.title.toLowerCase().includes(keyword.toLowerCase()) ||
      (anime.titleEn && anime.titleEn.toLowerCase().includes(keyword.toLowerCase()))
    );
    renderAnimes(filteredAnimes);
  }
}

/**
 * é˜²æŠ–å‡½æ•°
 */
function debounce(func, wait) {
  let timeout;
  return function executedFunction(...args) {
    const later = () => {
      clearTimeout(timeout);
      func(...args);
    };
    clearTimeout(timeout);
    timeout = setTimeout(later, wait);
  };
}

// å°†loadAnimeså‡½æ•°æš´éœ²åˆ°å…¨å±€ä½œç”¨åŸŸï¼Œä¾›é‡æ–°åŠ è½½æŒ‰é’®ä½¿ç”¨
if (typeof window !== 'undefined') {
  window.loadAnimes = loadAnimes;
}
</script>

<style>
.animation-zone {
  max-width: 1200px;
  margin: 0 auto;
  padding: 20px;
}

/* åŠ è½½çŠ¶æ€æ ·å¼ */
.loading-state {
  text-align: center;
  padding: 60px 20px;
}

.loading-spinner {
  width: 50px;
  height: 50px;
  border: 4px solid #f3f3f3;
  border-top: 4px solid #FF6B6B;
  border-radius: 50%;
  animation: spin 1s linear infinite;
  margin: 0 auto 20px;
}

@keyframes spin {
  0% { transform: rotate(0deg); }
  100% { transform: rotate(360deg); }
}

.loading-state p {
  color: #666;
  font-size: 1.1em;
}

/* é”™è¯¯çŠ¶æ€æ ·å¼ */
.error-state {
  text-align: center;
  padding: 60px 20px;
  color: #e74c3c;
}

.retry-button {
  background: #FF6B6B;
  color: white;
  border: none;
  padding: 10px 20px;
  border-radius: 5px;
  cursor: pointer;
  font-size: 1em;
  margin-top: 15px;
  transition: background 0.3s ease;
}

.retry-button:hover {
  background: #ff5252;
}

/* ç©ºçŠ¶æ€æ ·å¼ */
.empty-state {
  text-align: center;
  padding: 60px 20px;
  color: #666;
  font-size: 1.2em;
}

/* ç­›é€‰å™¨æ ·å¼ */
.filters {
  display: flex;
  flex-wrap: wrap;
  gap: 20px;
  margin-bottom: 30px;
  padding: 20px;
  background: white;
  border-radius: 10px;
  box-shadow: 0 2px 10px rgba(0,0,0,0.1);
}

.filter-group {
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.filter-group label {
  font-weight: bold;
  color: #333;
  font-size: 0.9em;
}

.filter-group select,
.filter-group input {
  padding: 8px 12px;
  border: 2px solid #e0e0e0;
  border-radius: 5px;
  font-size: 0.9em;
  min-width: 150px;
  transition: border-color 0.3s ease;
}

.filter-group select:focus,
.filter-group input:focus {
  outline: none;
  border-color: #FF6B6B;
}

/* åŠ¨ç”»ç½‘æ ¼æ ·å¼ */
.anime-grid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: 25px;
  margin-top: 20px;
}

/* åŠ¨ç”»å¡ç‰‡æ ·å¼ */
.anime-card {
  background: white;
  border-radius: 15px;
  overflow: hidden;
  box-shadow: 0 4px 15px rgba(0,0,0,0.1);
  transition: all 0.3s ease;
  cursor: pointer;
  position: relative;
}

.anime-card:hover {
  transform: translateY(-8px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.15);
}

.anime-poster {
  position: relative;
  height: 200px;
  overflow: hidden;
}

.anime-poster img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.anime-card:hover .anime-poster img {
  transform: scale(1.05);
}

.anime-cover {
  position: relative;
  width: 100%;
  height: 350px;
  overflow: hidden;
}

.anime-cover img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: transform 0.3s ease;
}

.anime-card:hover .anime-cover img {
  transform: scale(1.05);
}

.anime-overlay {
  position: absolute;
  top: 10px;
  right: 10px;
  display: flex;
  flex-direction: column;
  gap: 5px;
}

.anime-rating {
  background: rgba(0,0,0,0.8);
  color: white;
  padding: 4px 8px;
  border-radius: 15px;
  font-size: 12px;
  font-weight: bold;
  text-align: center;
}

.anime-status {
  padding: 4px 8px;
  border-radius: 15px;
  font-size: 11px;
  font-weight: bold;
  text-align: center;
  color: white;
}

.anime-status.completed { background: #28a745; }
.anime-status.watching { background: #007bff; }
.anime-status.planned { background: #6c757d; }
.anime-status.dropped { background: #dc3545; }
.anime-status.paused { background: #9E9E9E; }
.anime-status.unknown { background: #607D8B; }

.anime-info {
  padding: 20px;
}

.anime-title {
  font-size: 1.2em;
  font-weight: bold;
  margin: 0 0 8px 0;
  color: #333;
  line-height: 1.3;
}

.anime-subtitle {
  font-size: 0.9em;
  color: #666;
  margin: 0 0 10px 0;
  line-height: 1.2;
}

.anime-meta {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
  font-size: 0.85em;
  color: #888;
}

.anime-genres {
  color: #666;
  font-size: 0.9em;
  margin: 0 0 5px 0;
}

.anime-year, .anime-episodes {
  color: #888;
  font-size: 0.85em;
  margin: 0 0 3px 0;
}

.anime-description {
  color: #555;
  font-size: 0.9em;
  line-height: 1.4;
  margin: 10px 0 15px 0;
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.anime-link {
  color: #007bff;
  text-decoration: none;
  font-weight: bold;
  font-size: 0.9em;
  transition: color 0.3s ease;
}

.anime-link:hover {
  color: #0056b3;
}

.anime-progress {
  display: flex;
  align-items: center;
  gap: 10px;
}

.progress-bar {
  flex: 1;
  height: 6px;
  background: #f0f0f0;
  border-radius: 3px;
  overflow: hidden;
}

.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, #FF6B6B, #4ECDC4);
  border-radius: 3px;
  transition: width 0.3s ease;
}

.progress-text {
  font-size: 0.8em;
  color: #666;
  font-weight: bold;
  min-width: 50px;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .animation-zone {
    padding: 15px;
  }
  
  .filters {
    flex-direction: column;
    gap: 15px;
  }
  
  .filter-group select,
  .filter-group input {
    min-width: 100%;
  }
  
  .anime-grid {
    grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
    gap: 20px;
  }
  
  .anime-cover {
    height: 300px;
  }
}

@media (max-width: 480px) {
  .anime-grid {
    grid-template-columns: 1fr;
  }
  
  .anime-cover {
    height: 280px;
  }
}
</style>